<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Warm Delights - Home Bakery</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <style>
    /* Added global storage ribbon & connection indicator */
    .global-storage-ribbon {
        position: fixed;
        top: 10px;
        left: 10px;
        z-index: 10001;
        background: linear-gradient(90deg,#e8a5b7,#d67b8a);
        color: #fff;
        padding: 6px 13px;
        font-size: 12px;
        border-radius: 10px 12px 10px 10px;
        font-weight: bold;
        box-shadow: 0 2px 6px rgba(232,165,183,0.08);
        opacity: 0.93;
        display: flex;
        gap: 8px;
        align-items: center;
        pointer-events: none;
    }
    .connection-pill {
        margin-left: 8px;
        background: #4CAF50;
        color: #fff;
        border-radius: 8px;
        padding: 2px 10px;
        font-size: 11px;
        font-weight: 500;
        animation: pillPulse 2s infinite;
    }
    @keyframes pillPulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.7; }
    }
    #globalStorageStatusDot {
        display:inline-block;
        width:10px; height:10px;
        border-radius:50%; background:#4CAF50;
        margin-right:5px;
        vertical-align:middle;
        box-shadow:0 0 0 0 #4CAF50;
        animation:dotPulse 1.6s infinite cubic-bezier(.66,0,0,1);
    }
    @keyframes dotPulse {
        0% { box-shadow:0 0 0 0 #4CAF5066; }
        70% { box-shadow:0 0 0 7px #4CAF5000; }
        100% { box-shadow:0 0 0 0 #4CAF5066; }
    }
    .connection-offline {
        background: #f44336 !important;
        color: white !important;
    }
    .dot-offline {
        background: #f44336 !important;
    }
    @media (max-width:440px) {
        .global-storage-ribbon {
            left:0; right:0; top:0; border-radius:0 0 10px 10px; margin:0;
            justify-content:center;
        }
    }
    </style>
</head>
<body>
    <div class="global-storage-ribbon" id="globalStorageRibbon">
        <span id="globalStorageStatusDot"></span>
        üåç Universal Image Storage
        <span id="globalStorageStatusTxt" class="connection-pill">Online</span>
    </div>

    <!-- Header -->
    <header>
        <div class="container">
            <img src="Logo.png" alt="Warm Delights Logo" class="logo">
            <h1>Warm Delights</h1>
            <p class="tagline">Delivering Hugs Through Cakes</p>
            <!-- Mobile Menu Toggle -->
            <div class="mobile-menu-toggle" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <!-- Desktop Navigation -->
            <nav class="desktop-nav">
                <a href="#home">Home</a>
                <a href="#story">Our Story</a>
                <a href="#menu">Menu</a>
                <a href="#gallery">Gallery</a>
                <a href="#custom">Custom Orders</a>
                <a href="#delivery">Delivery</a>
                <a href="#contact">Contact</a>
                <button onclick="toggleCart()" class="cart-btn">
                    üõí Cart (<span id="cartCount">0</span>)
                </button>
            </nav>
            <!-- Mobile Navigation -->
            <nav id="mobileNav" class="mobile-nav">
                <a href="#home" onclick="toggleMenu()">Home</a>
                <a href="#story" onclick="toggleMenu()">Our Story</a>
                <a href="#menu" onclick="toggleMenu()">Menu</a>
                <a href="#gallery" onclick="toggleMenu()">Gallery</a>
                <a href="#custom" onclick="toggleMenu()">Custom Orders</a>
                <a href="#delivery" onclick="toggleMenu()">Delivery</a>
                <a href="#contact" onclick="toggleMenu()">Contact</a>
                <a href="#" onclick="toggleCart(); toggleMenu();">üõí Cart (<span id="mobileCartCount">0</span>)</a>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="container">
            <h2>Welcome to Warm Delights</h2>
            <p>Where every bite is a moment of pure joy</p>
        </div>
    </section>

    <!-- Brand Story Section -->
    <section id="story" class="brand-story">
        <div class="container">
            <h2>Our Story</h2>
            <div class="story-content">
                <!-- Story content unchanged -->
                <p style="text-align: justify;">It all began during the COVID-19 lockdown, when online courses were becoming a trend. Out of curiosity, I signed up for a cupcake-making workshop, not realizing that it would be the starting point of my entrepreneurial journey. I was excited to learn something new and couldn't wait to try it myself.</p>
                <p style="text-align: justify;">My first batch of cupcakes, however, didn't turn out well, and I felt disheartened. But thanks to my mom‚Äîmy biggest supporter‚ÄîI didn't give up. With her encouragement, I tried again, and this time I succeeded. That small win filled me with joy and gave me the confidence to keep going.</p>
                <p style="text-align: justify;">Soon after, I baked my first perfect cake for a friend's birthday. It was the first time my creation was going to be shared beyond my home, and to my delight, the feedback was overwhelmingly positive. That moment became the spark that motivated me to start my own home bakery in 2022.</p>
                <p style="text-align: justify;">Now, as we approach our third anniversary this September, I look back on a journey full of challenges, lessons, and growth. It hasn't always been easy, but it has taught me resilience and the importance of never giving up. Through it all, my mom has been my backbone‚Äîher constant support and belief in me continue to inspire everything I do.</p>
            </div>
        </div>
    </section>

    <!-- Menu Section - Minimum Quantities -->
    <section id="menu" class="menu">
        <div class="container">
            <h2>Our Menu</h2>
            <div class="category-filters" id="categoryFilters">
                <button class="filter-btn active" onclick="filterMenu('all')">All</button>
                <button class="filter-btn" onclick="filterMenu('cakes')">Cakes</button>
                <button class="filter-btn" onclick="filterMenu('cookies')">Cookies</button>
                <button class="filter-btn" onclick="filterMenu('cupcakes')">Cupcakes & Muffins</button>
            </div>
            <div class="menu-container">
                <div class="menu-list-container">
                    <ul class="menu-list" id="menuItems">
                        <li>Loading menu...</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section id="gallery" class="gallery-section">
        <div class="container">
            <h2>Our Gallery</h2>
            <div id="galleryGrid" class="gallery-grid">
                <!-- Images will be loaded dynamically from global storage backend with session cache as fallback -->
            </div>
        </div>
    </section>

    <!-- Custom Order Section -->
    <section id="custom" class="custom-order">
        <div class="container">
            <h2>Customize Your Treats</h2>
            <div class="custom-order-content">
                <div class="custom-description">
                    <p>We're happy to bring your vision to life! Share a reference picture along with your preferences for size, flavour, and design, and we'll create a customised treat made just for you.</p>
                </div>
                <div class="custom-form-container">
                    <form id="customOrderForm" class="custom-form">
                        <div class="input-group">
                            <label for="referenceImage">Reference Image (Optional)</label>
                            <input type="file" id="referenceImage" name="referenceImage" accept="image/*">
                            <small>Upload a reference image (Max 5MB)</small>
                        </div>
                        <div class="form-row">
                            <div class="input-group">
                                <label for="customerName">Your Name *</label>
                                <input type="text" id="customerName" name="customerName" required>
                            </div>
                            <div class="input-group">
                                <label for="customerPhone">Phone Number *</label>
                                <input type="tel" id="customerPhone" name="customerPhone" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="input-group">
                                <label for="treatSize">Size *</label>
                                <select id="treatSize" name="treatSize" required>
                                    <option value="">Select Size</option>
                                    <option value="small">Small (6 inch)</option>
                                    <option value="medium">Medium (8 inch)</option>
                                    <option value="large">Large (10 inch)</option>
                                    <option value="extra-large">Extra Large (12 inch)</option>
                                    <option value="custom">Custom Size</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label for="treatFlavour">Flavour *</label>
                                <select id="treatFlavour" name="treatFlavour" required>
                                    <option value="">Select Flavour</option>
                                    <option value="vanilla">Vanilla</option>
                                    <option value="chocolate">Chocolate</option>
                                    <option value="strawberry">Strawberry</option>
                                    <option value="butterscotch">Butterscotch</option>
                                    <option value="red-velvet">Red Velvet</option>
                                    <option value="custom">Custom Flavour</option>
                                </select>
                            </div>
                        </div>
                        <div class="input-group">
                            <label for="designNotes">Design Notes *</label>
                            <textarea id="designNotes" name="designNotes" rows="4" placeholder="Describe your design preferences, colors, theme, decorations, or any special requirements..." required></textarea>
                        </div>
                        <div class="input-group">
                            <label for="deliveryDate">Required Date</label>
                            <input type="date" id="deliveryDate" name="deliveryDate">
                        </div>
                        <button type="submit" class="button custom-submit-btn">Submit Custom Order Request</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Delivery Info Section -->
    <section id="delivery" class="delivery-section">
        <div class="container">
            <h2>Delivery Information</h2>
            <div class="delivery-content">
                <div class="delivery-card">
                    <h3>Our Delivery Service</h3>
                    <ul class="delivery-list">
                        <li>We offer delivery across the Tricity through multiple parcel options, chosen based on your location.</li>
                        <li>Delivery charges may vary depending on the mode of delivery and your location.</li>
                        <li>Same-day delivery is available under certain conditions.</li>
                        <li>For a hassle-free experience, we recommend placing your order at least 2‚Äì3 days in advance.</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Info Section -->
    <section class="info-section">
        <div class="container">
            <h2>Why Choose Warm Delights?</h2>
            <div class="info-grid">
                <div class="info-card">
                    <h3>100% Eggless</h3>
                    <ul>
                        <li>All our products are completely eggless</li>
                        <li>Perfect for vegetarians</li>
                        <li>No compromise on taste or texture</li>
                        <li>Safe for those with egg allergies</li>
                    </ul>
                </div>
                <div class="info-card">
                    <h3>Fresh & Homemade</h3>
                    <ul>
                        <li>Baked fresh to order</li>
                        <li>No preservatives or artificial additives</li>
                        <li>Made with premium ingredients</li>
                        <li>Traditional recipes with modern touch</li>
                    </ul>
                </div>
                <div class="info-card">
                    <h3>Custom Orders</h3>
                    <ul>
                        <li>Personalized cakes for special occasions</li>
                        <li>Custom flavors and designs</li>
                        <li>Advance booking available</li>
                        <li>Special dietary requirements accommodated</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="contact">
        <div class="container">
            <h2>Contact Us</h2>
            <div class="contact-grid">
                <div class="contact-info">
                    <h3>Get in Touch</h3>
                    <div class="contact-item" data-clickable onclick="window.open('tel:+918847306427')">
                        <strong>Mobile:</strong>
                        <span>+918847306427</span>
                    </div>
                    <div class="contact-item" data-clickable onclick="window.open('https://wa.me/918847306427', '_blank')">
                        <strong>WhatsApp:</strong>
                        <span>+918847306427</span>
                    </div>
                    <div class="contact-item" data-clickable onclick="window.open('mailto:dayitagoyal10@gmail.com')">
                        <strong>Email:</strong>
                        <span>dayitagoyal10@gmail.com</span>
                    </div>
                    <div class="contact-item" data-clickable onclick="window.open('https://www.instagram.com/.warmdelights.?igsh=NmRkZGdpcXBrNDZw', '_blank')">
                        <strong>Social:</strong>
                        <span>@warmdelights</span>
                    </div>
                    <div class="contact-item">
                        <strong>Hours:</strong>
                        <span>Mon-Sat: 9AM-7PM, Sun: 10AM-5PM</span>
                    </div>
                </div>
                <div class="contact-form">
                    <h3>Send us a Message</h3>
                    <form id="contactForm">
                        <input type="text" id="name" placeholder="Your Name *" required>
                        <input type="email" id="email" placeholder="Your Email *" required>
                        <input type="tel" id="phone" placeholder="Your Phone">
                        <textarea id="message" placeholder="Your Message *" rows="5" required></textarea>
                        <button type="submit">Send Message</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Shopping Cart Sidebar -->
    <div id="cartSidebar" class="cart-sidebar">
        <div class="cart-header">
            <h3>üõí Your Cart</h3>
            <button onclick="toggleCart()" class="close-cart">‚úñ</button>
        </div>
        <div id="cartItems" class="cart-items">
            <p class="empty-cart">Your cart is empty</p>
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <strong>Total: ‚Çπ<span id="cartTotal">0</span></strong>
            </div>
            <button id="checkoutBtn" class="checkout-btn" onclick="checkout()" disabled>
                Proceed to Order
            </button>
        </div>
    </div>

    <!-- Cart Overlay -->
    <div id="cartOverlay" class="cart-overlay" onclick="toggleCart()"></div>

    <!-- Chatbot -->
    <div id="chatbot-container" class="chatbot-container">
        <div id="chatbot-toggle" class="chatbot-toggle" onclick="toggleChatbot()">
            <span class="chatbot-icon">üí¨</span>
            <span class="chatbot-text">Chat with us!</span>
        </div>
        <div id="chatbot-window" class="chatbot-window">
            <div class="chatbot-header">
                <h4>üßÅ Warm Delights Assistant</h4>
                <button onclick="toggleChatbot()" class="chatbot-close">‚úñ</button>
            </div>
            <div class="chatbot-messages" id="chatbot-messages">
                <div class="message bot-message">
                    <p>Hi! I'm here to help you with any questions about our delicious treats! üéÇ</p>
                    <div class="quick-buttons">
                        <button onclick="handleQuickResponse('menu')">View Menu</button>
                        <button onclick="handleQuickResponse('hours')">Store Hours</button>
                        <button onclick="handleQuickResponse('order')">Place Order</button>
                        <button onclick="handleQuickResponse('delivery')">Delivery Info</button>
                    </div>
                </div>
            </div>
            <div class="chatbot-input">
                <input type="text" id="chatbot-input-field" placeholder="Ask me anything..." onkeypress="handleChatbotEnter(event)">
                <button onclick="sendChatbotMessage()">Send</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>&copy; 2025 Warm Delights. Made with ‚ù§Ô∏è for sweet moments.</p>
            <div class="footer-social">
                <a href="https://wa.me/918847306427" target="_blank">WhatsApp</a>
                <a href="https://www.instagram.com/.warmdelights.?igsh=NmRkZGdpcXBrNDZw" target="_blank">Instagram</a>
                <a href="mailto:dayitagoyal10@gmail.com">Email</a>
            </div>
        </div>
    </footer>

    <!-- JS: Live global storage connection indicator and script.js -->
    <script>
    // Live connection indicator (auto detects backend health)
    function updateGlobalStorageStatus(){
        const dot = document.getElementById('globalStorageStatusDot');
        const txt = document.getElementById('globalStorageStatusTxt');
        
        fetch('https://warm-delights-backend-production.up.railway.app/health',{method:'GET'})
        .then(r=>r.json())
        .then(data=>{
            dot.className=''; txt.className='connection-pill';
            dot.style.background='#4CAF50';
            txt.textContent='Online';
        }).catch(_=>{
            dot.className='dot-offline'; txt.className='connection-pill connection-offline';
            dot.style.background='#f44336';
            txt.textContent='Offline';
        });
    }
    window.addEventListener('online',updateGlobalStorageStatus);
    window.addEventListener('offline',()=>{
        const dot = document.getElementById('globalStorageStatusDot');
        const txt = document.getElementById('globalStorageStatusTxt');
        dot.className='dot-offline'; txt.className='connection-pill connection-offline';
        dot.style.background='#f44336';
        txt.textContent='Offline';
    });
    document.addEventListener('DOMContentLoaded',()=>{ updateGlobalStorageStatus(); setInterval(updateGlobalStorageStatus,30*1000); });
    </script>
    <script src="script.js"></script>
</body>
</html>
